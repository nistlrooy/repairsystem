{% extends "RepairBundle::layout.html.twig" %}

{% block title %}详细信息{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <style type="text/css">
        #exportDiv{
            float: right;
            margin-right: 10%;
            margin-top:30px;
        }
        .modal-title{
            font-weight:700;
            color: #227ABF;
        }

        .danger{
            color: red;
        }
    </style>
{% endblock %}

{% block body %}
<div id="content">
<div class="row">
    <div id="exportDiv">
        <button type="button" id="export" class="btn btn-default" data-toggle="modal" data-target="#exportModal">导出数据到Excel</button>
    </div>
    <div class="modal fade" id="exportModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="exampleModalLabel">导出工单数据到Excel</h4>
                </div>
                <div class="modal-body">
                        <div class="form-group">
                            请选择需要的Excel格式类型

                        </div>

                        <div class="modal-footer">
                            <button type="button" id="excel5" class="btn btn-default" data-dismiss="modal">xls格式（兼容Excel2003及之前版本）</button>
                            <button type="button" id="excel2007" class="btn btn-default" data-dismiss="modal">xlsx格式（兼容Excel2007及之后版本）</button>
                        </div>

                </div>
            </div>
        </div>
    </div>
    <div class="col-md-6 col-md-offset-3">
    {% trans_default_domain 'RepairBundle' %}

        <div class="col-sm-12">
            <div class="danger">{{ errorMsg }}</div>
        </div>
    {# 状态为待接单 #}
    {% if repairForm.formCondition.id == 1 %}
        {# 判断是否是报修人 #}
        {% if isCreater %}
            {# 判断是否有维修人员权限 #}
            {%  if is_granted('ROLE_REPAIR') %}
                <form id="infoForm" action="{{ path('fault_action',{'action':'edit','id':repairForm.id}) }}" {{ form_enctype(form) }} method="post">
                    <div class="col-sm-8 form-group">
                        <h3>{{ 'form.repairFormInfo'|trans }}</h3>
                    </div>
                    <div class="col-sm-4 form-group">
                        <h3>{{ repairForm.FormCondition.name }}</h3>
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.reportTime'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ repairForm.repairTask.createTime|date('Y-m-d H:i:s') }}
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.location'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ form_widget(form.faultInfo.group, {'attr': {'class': 'form-control'}}) }}
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.type'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ form_widget(form.faultInfo.faultType, {'attr': {'class': 'form-control'}}) }}
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.priority'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ form_widget(form.faultInfo.faultPriority, {'attr': {'class': 'form-control'}}) }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.title'|trans }}
                    </div>
                    <div class="col-sm-9 form-group">
                        {{ form_widget(form.faultInfo.title, {'attr': {'class': 'form-control','minlength':2}}) }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.reporterDescription'|trans }}
                    </div>
                    <div class="col-sm-9 form-group">
                        {{ form_widget(form.faultInfo.reporterDescription, {'attr': {'class': 'form-control','minlength':2}}) }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.reporter'|trans }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ repairForm.repairTask.user.name }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.reporterPhone'|trans }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ repairForm.repairTask.user.phone }}
                    </div>


                    <div class="col-sm-8 col-sm-offset-4">
                        {{ form_widget(form.save, {'attr': {'class': 'btn btn-default'}}) }}
                        <button  id="receive" type="button" class="btn btn-default" data-toggle="confirmation" data-singleton="true" data-btn-ok-label="确定" data-btn-ok-icon="glyphicon glyphicon-share-alt" data-btn-ok-class="btn-success" data-btn-cancel-label="取消" data-btn-cancel-icon="glyphicon glyphicon-ban-circle" data-btn-cancel-class="btn-danger" data-popout="true" title="是否确定">{{ 'form.receive'|trans }}</button>
                        <button  id="cancel" type="button" class="btn btn-default" data-toggle="confirmation" data-singleton="true" data-btn-ok-label="确定" data-btn-ok-icon="glyphicon glyphicon-share-alt" data-btn-ok-class="btn-success" data-btn-cancel-label="取消" data-btn-cancel-icon="glyphicon glyphicon-ban-circle" data-btn-cancel-class="btn-danger" data-popout="true" title="是否确定">{{ 'form.cancel'|trans }}</button>
                    </div>
                    <div class="col-sm-12 ">
                        {{ form_errors(form) }}
                    </div>
                    {{ form_widget(form._token) }}
                </form>
            {# 无维修人权限 #}
            {% else %}
             <div class="row">
                <form id="infoForm" action="{{ path('fault_action',{'action':'edit','id':repairForm.id}) }}" {{ form_enctype(form) }} method="post">

                    <div class="col-sm-8 form-group">
                        <h3>{{ 'form.repairFormInfo'|trans }}</h3>
                    </div>
                    <div class="col-sm-4 form-group">
                        <h3>{{ repairForm.FormCondition.name }}</h3>
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.reportTime'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ repairForm.repairTask.createTime|date('Y-m-d H:i:s') }}
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.location'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ form_widget(form.faultInfo.group, {'attr': {'class': 'form-control'}}) }}
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.type'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ form_widget(form.faultInfo.faultType, {'attr': {'class': 'form-control'}}) }}
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.priority'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ form_widget(form.faultInfo.faultPriority, {'attr': {'class': 'form-control'}}) }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.title'|trans }}
                    </div>
                    <div class="col-sm-9 form-group">
                        {{ form_widget(form.faultInfo.title, {'attr': {'class': 'form-control','minlength':2}}) }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.reporterDescription'|trans }}
                    </div>
                    <div class="col-sm-9 form-group">
                        {{ form_widget(form.faultInfo.reporterDescription, {'attr': {'class': 'form-control','minlength':2}}) }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.reporter'|trans }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ repairForm.repairTask.user.name }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.reporterPhone'|trans }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ repairForm.repairTask.user.phone }}
                    </div>

                    <div class="col-sm-6 col-sm-offset-6">
                        {{ form_widget(form.save, {'attr': {'class': 'btn btn-default'}}) }}
                        <button  id="cancel" type="button" class="btn btn-default" data-toggle="confirmation" data-singleton="true" data-btn-ok-label="确定" data-btn-ok-icon="glyphicon glyphicon-share-alt" data-btn-ok-class="btn-success" data-btn-cancel-label="取消" data-btn-cancel-icon="glyphicon glyphicon-ban-circle" data-btn-cancel-class="btn-danger" data-popout="true" title="是否确定">{{ 'form.cancel'|trans }}</button>
                    </div>
                    <div class="col-sm-12">
                        {{ form_errors(form) }}
                    </div>
                    {{ form_widget(form._token) }}
                </form>
             </div>
            {% endif %}
        {# 不是报修人 #}
        {% else %}
            {# 判断是否有维修人权限 #}
            {%  if is_granted('ROLE_REPAIR') %}
                <div class="col-sm-8 form-group">
                    <h3>{{ 'form.repairFormInfo'|trans }}</h3>
                </div>
                <div class="col-sm-4 form-group">
                    <h3>{{ repairForm.FormCondition.name }}</h3>
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.reportTime'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.repairTask.createTime|date('Y-m-d H:i:s') }}
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.location'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.faultInfo.group }}
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.type'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.faultInfo.faultType }}
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.priority'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.faultInfo.faultPriority }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.title'|trans }}
                </div>
                <div class="col-sm-9 form-group">
                    {{ repairForm.faultInfo.title }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.reporterDescription'|trans }}
                </div>
                <div class="col-sm-9 form-group">
                    {{ repairForm.faultInfo.reporterDescription }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.reporter'|trans }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ repairForm.repairTask.user.name }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.reporterPhone'|trans }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ repairForm.repairTask.user.phone }}
                </div>
                <div class="col-sm-3 col-sm-offset-9">

                    <button  id="receive" type="button" class="btn btn-default" data-toggle="confirmation" data-singleton="true" data-btn-ok-label="确定" data-btn-ok-icon="glyphicon glyphicon-share-alt" data-btn-ok-class="btn-success" data-btn-cancel-label="取消" data-btn-cancel-icon="glyphicon glyphicon-ban-circle" data-btn-cancel-class="btn-danger" data-popout="true" title="是否确定">{{ 'form.receive'|trans }}</button>
                </div>
            {% else %}
                <div class="col-sm-8 form-group">
                    <h3>{{ 'form.repairFormInfo'|trans }}</h3>
                </div>
                <div class="col-sm-4 form-group">
                    <h3>{{ repairForm.FormCondition.name }}</h3>
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.reportTime'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.repairTask.createTime|date('Y-m-d H:i:s') }}
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.location'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.faultInfo.group }}
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.type'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.faultInfo.faultType }}
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.priority'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.faultInfo.faultPriority }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.title'|trans }}
                </div>
                <div class="col-sm-9 form-group">
                    {{ repairForm.faultInfo.title }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.reporterDescription'|trans }}
                </div>
                <div class="col-sm-9 form-group">
                    {{ repairForm.faultInfo.reporterDescription }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.reporter'|trans }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ repairForm.repairTask.user.name }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.reporterPhone'|trans }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ repairForm.repairTask.user.phone }}
                </div>

            {% endif %}
        {% endif %}
    {% endif %}
    {# 状态为维修中 #}
    {% if repairForm.formCondition.id == 2 %}
        {# 判断是否是表单接收者 #}
        {% if isReceiver %}
            {# 判断是否有领导权限 #}
            {% if is_granted('ROLE_LEADER') %}
                <form id="infoForm" action="{{ path('fault_action',{'action':'submit','id':repairForm.id}) }}" {{ form_enctype(form) }} method="post">
                    <div class="col-sm-8 form-group">
                        <h3>{{ 'form.repairFormInfo'|trans }}</h3>
                    </div>
                    <div class="col-sm-4 form-group">
                        <h3>{{ repairForm.FormCondition.name }}</h3>
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.reportTime'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ repairForm.repairTask.createTime|date('Y-m-d H:i:s') }}
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.location'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ repairForm.faultInfo.group }}
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.type'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ repairForm.faultInfo.faultType }}
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.priority'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ repairForm.faultInfo.faultPriority }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.title'|trans }}
                    </div>
                    <div class="col-sm-9 form-group">
                        {{ repairForm.faultInfo.title }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.reporterDescription'|trans }}
                    </div>
                    <div class="col-sm-9 form-group">
                        {{ repairForm.faultInfo.reporterDescription }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.workerDescription'|trans }}
                    </div>
                    <div class="col-sm-9 form-group">
                        {{ form_widget(form.faultInfo.workerDescription, {'attr': {'class': 'form-control','minlength':2}}) }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.maintenanceSchedule'|trans }}
                    </div>
                    <div class="col-sm-9 form-group">
                        {{ form_widget(form.faultInfo.maintenanceSchedule, {'attr': {'class': 'form-control','minlength':2}}) }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.order'|trans }}
                    </div>
                    {% if orderSet %}
                        <div class="col-sm-9 form-group">
                            <blockquote>
                                <p>{{ repairForm.faultInfo.faultOrder.leaderOrder }}</p>
                                <footer>{{ repairForm.faultInfo.faultOrder.user.name }}</footer>
                            </blockquote>
                        </div>
                    {% else %}
                        <div class="col-sm-9 form-group">
                        {% if orderIsNull %}
                            <button type="button" id="reportToLeader" class="btn btn-default" data-toggle="confirmation" data-singleton="true" data-btn-ok-label="上报" data-btn-ok-icon="glyphicon glyphicon-share-alt" data-btn-ok-class="btn-success" data-btn-cancel-label="取消" data-btn-cancel-icon="glyphicon glyphicon-ban-circle" data-btn-cancel-class="btn-danger" data-popout="true" title="是否上报" >{{ 'form.reportToLeader'|trans }}</button>
                        {% else %}
                            {% if not orderSet %}
                                <button type="button" id="order" class="btn btn-default" data-toggle="modal" data-target="#orderModal">{{ 'form.order'|trans }}</button>
                            {% else %}
                                {{ 'form.none'|trans }}
                            {% endif %}
                        {% endif %}
                        </div>
                    {% endif %}

                    <div class="col-sm-3 form-group">{{ 'form.money'|trans }}</div><div class="col-sm-9 form-group">{{ form_widget(form.cost, {'attr': {'class': 'form-control','number':true,'min':0}}) }}</div>

                    <div class="col-sm-3 form-group">
                        {{ 'form.reporter'|trans }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ repairForm.repairTask.user.name }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.reporterPhone'|trans }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ repairForm.repairTask.user.phone }}
                    </div>

                    <div class="col-sm-3 form-group">
                        {{ 'form.receiver'|trans }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ repairForm.receive.name }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.reporterPhone'|trans }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ repairForm.receive.phone }}
                    </div>
                    <div class="col-sm-6 col-sm-offset-6">
                        <button  id="reject" type="button" class="btn btn-default" data-toggle="confirmation" data-singleton="true" data-btn-ok-label="退回" data-btn-ok-icon="glyphicon glyphicon-share-alt" data-btn-ok-class="btn-success" data-btn-cancel-label="取消" data-btn-cancel-icon="glyphicon glyphicon-ban-circle" data-btn-cancel-class="btn-danger" data-popout="true" title="是否退回">{{ 'form.sendBack'|trans }}</button>

                        {{ form_widget(form.save, {'attr': {'class': 'btn btn-default'}}) }}

                        <button id="submit" type="submit" class="btn btn-default" data-toggle="confirmation" data-singleton="true" data-btn-ok-label="确定" data-btn-ok-icon="glyphicon glyphicon-share-alt" data-btn-ok-class="btn-success" data-btn-cancel-label="取消" data-btn-cancel-icon="glyphicon glyphicon-ban-circle" data-btn-cancel-class="btn-danger" data-popout="true" title="是否确定">提交</button>
                    </div>
                    <div class="col-sm-12">
                        {{ form_errors(form) }}
                    </div>
                    {{ form_widget(form._token) }}
                </form>
{% if not orderSet and not orderIsNull %}
                {# 批示弹出框 #}
                <div class="modal fade" id="orderModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
                    <div class="modal-dialog" role="document">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                                <h4 class="modal-title" id="exampleModalLabel">领导批示</h4>
                            </div>
                            <div class="modal-body">
                                <form action="{{ path('fault_order',{'action':'set','id':repairForm.id}) }}" {{ form_enctype(order) }} method="post">
                                    <div class="form-group">
                                        <label for="message-text" class="control-label">批示:</label>
                                        {{ form_widget(order.leaderOrder, {'attr': {'class': 'form-control'}}) }}
                                    </div>
                                    {{ form_widget(order._token) }}
                                    <div class="modal-footer">
                                        <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                                        <button type="submit" class="btn btn-primary">确定</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
{% endif %}
            {# 无领导权限 #}
            {% else %}
                <form id="infoForm" action="{{ path('fault_action',{'action':'submit','id':repairForm.id}) }}" {{ form_enctype(form) }} method="post">
                    <div class="col-sm-8 form-group">
                        <h3>{{ 'form.repairFormInfo'|trans }}</h3>
                    </div>
                    <div class="col-sm-4 form-group">
                        <h3>{{ repairForm.FormCondition.name }}</h3>
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.reportTime'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ repairForm.repairTask.createTime|date('Y-m-d H:i:s') }}
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.location'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ repairForm.faultInfo.group }}
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.type'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ repairForm.faultInfo.faultType }}
                    </div>
                    <div class="col-sm-2 form-group">
                        {{ 'form.priority'|trans }}
                    </div>
                    <div class="col-sm-4 form-group">
                        {{ repairForm.faultInfo.faultPriority }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.title'|trans }}
                    </div>
                    <div class="col-sm-9 form-group">
                        {{ repairForm.faultInfo.title }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.reporterDescription'|trans }}
                    </div>
                    <div class="col-sm-9 form-group">
                        {{ repairForm.faultInfo.reporterDescription }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.workerDescription'|trans }}
                    </div>
                    <div class="col-sm-9 form-group">
                        {{ form_widget(form.faultInfo.workerDescription, {'attr': {'class': 'form-control','minlength':2}}) }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.maintenanceSchedule'|trans }}
                    </div>
                    <div class="col-sm-9 form-group">
                        {{ form_widget(form.faultInfo.maintenanceSchedule, {'attr': {'class': 'form-control','minlength':2}}) }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.order'|trans }}
                    </div>
                    {% if orderSet %}
                        <div class="col-sm-9 form-group">
                            <blockquote>
                                <p>{{ repairForm.faultInfo.faultOrder.leaderOrder }}</p>
                                <footer>{{ repairForm.faultInfo.faultOrder.user.name }}</footer>
                            </blockquote>
                        </div>
                    {% else %}
                        <div class="col-sm-9 form-group">
                            {% if orderIsNull %}
                                <button type="button" id="reportToLeader" class="btn btn-default" data-toggle="confirmation" data-singleton="true" data-btn-ok-label="上报" data-btn-ok-icon="glyphicon glyphicon-share-alt" data-btn-ok-class="btn-success" data-btn-cancel-label="取消" data-btn-cancel-icon="glyphicon glyphicon-ban-circle" data-btn-cancel-class="btn-danger" data-popout="true" title="是否上报" >{{ 'form.reportToLeader'|trans }}</button>
                            {% else %}
                                {{ 'form.none'|trans }}
                            {% endif %}
                        </div>
                    {% endif %}

                    <div class="col-sm-3 form-group">{{ 'form.money'|trans }}</div><div class="col-sm-9 form-group">{{ form_widget(form.cost, {'attr': {'class': 'form-control','number':true,'min':0}}) }}</div>

                    <div class="col-sm-3 form-group">
                        {{ 'form.reporter'|trans }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ repairForm.repairTask.user.name }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.reporterPhone'|trans }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ repairForm.repairTask.user.phone }}
                    </div>

                    <div class="col-sm-3 form-group">
                        {{ 'form.receiver'|trans }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ repairForm.receive.name }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ 'form.reporterPhone'|trans }}
                    </div>
                    <div class="col-sm-3 form-group">
                        {{ repairForm.receive.phone }}
                    </div>
                    <div class="col-sm-4 col-sm-offset-8">
                        <button  id="reject" type="button" class="btn btn-default" data-toggle="confirmation" data-singleton="true" data-btn-ok-label="退回" data-btn-ok-icon="glyphicon glyphicon-share-alt" data-btn-ok-class="btn-success" data-btn-cancel-label="取消" data-btn-cancel-icon="glyphicon glyphicon-ban-circle" data-btn-cancel-class="btn-danger" data-popout="true" title="是否退回">{{ 'form.sendBack'|trans }}</button>

                        {{ form_widget(form.save, {'attr': {'class': 'btn btn-default'}}) }}
                        <button id="submit" type="submit" class="btn btn-default" data-toggle="confirmation" data-singleton="true" data-btn-ok-label="确定" data-btn-ok-icon="glyphicon glyphicon-share-alt" data-btn-ok-class="btn-success" data-btn-cancel-label="取消" data-btn-cancel-icon="glyphicon glyphicon-ban-circle" data-btn-cancel-class="btn-danger" data-popout="true" title="是否确定">提交</button>
                    </div>
                    <div class="col-sm-12">
                        {{ form_errors(form) }}
                    </div>
                    {{ form_widget(form._token) }}
                </form>
            {% endif %}
        {# 不是表单接收人 #}
        {% else %}
            {# 有领导权限 #}
            {% if is_granted('ROLE_LEADER') %}
                <div class="col-sm-8 form-group">
                    <h3>{{ 'form.repairFormInfo'|trans }}</h3>
                </div>
                <div class="col-sm-4 form-group">
                    <h3>{{ repairForm.FormCondition.name }}</h3>
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.reportTime'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.repairTask.createTime|date('Y-m-d H:i:s') }}
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.location'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.faultInfo.group }}
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.type'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.faultInfo.faultType }}
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.priority'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.faultInfo.faultPriority }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.title'|trans }}
                </div>
                <div class="col-sm-9 form-group">
                    {{ repairForm.faultInfo.title }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.reporterDescription'|trans }}
                </div>
                <div class="col-sm-9 form-group">
                    {{ repairForm.faultInfo.reporterDescription }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.workerDescription'|trans }}
                </div>
                <div class="col-sm-9 form-group">
                    {{ repairForm.faultInfo.workerDescription }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.maintenanceSchedule'|trans }}
                </div>
                <div class="col-sm-9 form-group">
                    {{ repairForm.faultInfo.maintenanceSchedule }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.order'|trans }}
                </div>
                {% if orderSet %}
                    <div class="col-sm-9 form-group">
                        <blockquote>
                            <p>{{ repairForm.faultInfo.faultOrder.leaderOrder }}</p>
                            <footer>{{ repairForm.faultInfo.faultOrder.user.name }}</footer>
                        </blockquote>
                    </div>
                {% else %}
                    <div class="col-sm-9 form-group">
                    {% if not orderIsNull and not orderSet %}
                        <button type="button" id="order" class="btn btn-default" data-toggle="modal" data-target="#orderModal">{{ 'form.order'|trans }}</button>
                    {% else %}
                        {{ 'form.none'|trans }}
                    {% endif %}
                    </div>
                {% endif %}

                <div class="col-sm-3 form-group">{{ 'form.money'|trans }}</div><div class="col-sm-9 form-group">{{ repairForm.cost }}</div>

                <div class="col-sm-3 form-group">
                        {{ 'form.reporter'|trans }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ repairForm.repairTask.user.name }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.reporterPhone'|trans }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ repairForm.repairTask.user.phone }}
                </div>

                <div class="col-sm-3 form-group">
                    {{ 'form.receiver'|trans }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ repairForm.receive.name }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.reporterPhone'|trans }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ repairForm.receive.phone }}
                </div>


{% if not orderSet and not orderIsNull %}
        {# 批示弹出框 #}
        <div class="modal fade" id="orderModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
            <div class="modal-dialog" role="document">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                        <h4 class="modal-title" id="exampleModalLabel">领导批示</h4>
                    </div>
                    <div class="modal-body">
                        <form action="{{ path('fault_order',{'action':'set','id':repairForm.id}) }}" {{ form_enctype(order) }} method="post">
                            <div class="form-group">
                                <label for="message-text" class="control-label">批示:</label>
                                {{ form_widget(order.leaderOrder, {'attr': {'class': 'form-control'}}) }}
                            </div>
                            {{ form_widget(order._token) }}
                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                                <button type="submit" class="btn btn-primary">确定</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    {% endif %}
            {# 无领导权限 #}
            {% else %}
                <div class="col-sm-8 form-group">
                    <h3>{{ 'form.repairFormInfo'|trans }}</h3>
                </div>
                <div class="col-sm-4 form-group">
                    <h3>{{ repairForm.FormCondition.name }}</h3>
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.reportTime'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.repairTask.createTime|date('Y-m-d H:i:s') }}
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.location'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.faultInfo.group }}
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.type'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.faultInfo.faultType }}
                </div>
                <div class="col-sm-2 form-group">
                    {{ 'form.priority'|trans }}
                </div>
                <div class="col-sm-4 form-group">
                    {{ repairForm.faultInfo.faultPriority }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.title'|trans }}
                </div>
                <div class="col-sm-9 form-group">
                    {{ repairForm.faultInfo.title }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.reporterDescription'|trans }}
                </div>
                <div class="col-sm-9 form-group">
                    {{ repairForm.faultInfo.reporterDescription }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.workerDescription'|trans }}
                </div>
                <div class="col-sm-9 form-group">
                    {{ repairForm.faultInfo.workerDescription }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.maintenanceSchedule'|trans }}
                </div>
                <div class="col-sm-9 form-group">
                    {{ repairForm.faultInfo.maintenanceSchedule }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.order'|trans }}
                </div>
                {% if orderSet %}
                    <div class="col-sm-9 form-group">
                        <blockquote>
                            <p>{{ repairForm.faultInfo.faultOrder.leaderOrder }}</p>
                            <footer>{{ repairForm.faultInfo.faultOrder.user.name }}</footer>
                        </blockquote>
                    </div>
                {% else %}
                    <div class="col-sm-9 form-group">
                            {{ 'form.none'|trans }}
                    </div>
                {% endif %}

                <div class="col-sm-3 form-group">{{ 'form.money'|trans }}</div><div class="col-sm-9 form-group">{{ repairForm.cost }}</div>

                <div class="col-sm-3 form-group">
                    {{ 'form.reporter'|trans }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ repairForm.repairTask.user.name }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.reporterPhone'|trans }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ repairForm.repairTask.user.phone }}
                </div>

                <div class="col-sm-3 form-group">
                    {{ 'form.receiver'|trans }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ repairForm.receive.name }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ 'form.reporterPhone'|trans }}
                </div>
                <div class="col-sm-3 form-group">
                    {{ repairForm.receive.phone }}
                </div>
            {% endif %}
        {% endif %}
    {% endif %}

    {# 状态为待确认 #}
    {% if repairForm.formCondition.id == 3 %}

            <div class="col-sm-8 form-group">
                <h3>{{ 'form.repairFormInfo'|trans }}</h3>
            </div>
            <div class="col-sm-4 form-group">
                <h3>{{ repairForm.FormCondition.name }}</h3>
            </div>
            <div class="col-sm-2 form-group">
                {{ 'form.reportTime'|trans }}
            </div>
            <div class="col-sm-4 form-group">
                {{ repairForm.repairTask.createTime|date('Y-m-d H:i:s') }}
            </div>
            <div class="col-sm-2 form-group">
                {{ 'form.location'|trans }}
            </div>
            <div class="col-sm-4 form-group">
                {{ repairForm.faultInfo.group }}
            </div>
            <div class="col-sm-2 form-group">
                {{ 'form.type'|trans }}
            </div>
            <div class="col-sm-4 form-group">
                {{ repairForm.faultInfo.faultType }}
            </div>
            <div class="col-sm-2 form-group">
                {{ 'form.priority'|trans }}
            </div>
            <div class="col-sm-4 form-group">
                {{ repairForm.faultInfo.faultPriority }}
            </div>
            <div class="col-sm-3 form-group">
                {{ 'form.title'|trans }}
            </div>
            <div class="col-sm-9 form-group">
                {{ repairForm.faultInfo.title }}
            </div>
            <div class="col-sm-3 form-group">
                {{ 'form.reporterDescription'|trans }}
            </div>
            <div class="col-sm-9 form-group">
                {{ repairForm.faultInfo.reporterDescription }}
            </div>
            <div class="col-sm-3 form-group">
                {{ 'form.workerDescription'|trans }}
            </div>
            <div class="col-sm-9 form-group">
                {{ repairForm.faultInfo.workerDescription }}
            </div>
            <div class="col-sm-3 form-group">
                {{ 'form.maintenanceSchedule'|trans }}
            </div>
            <div class="col-sm-9 form-group">
                {{ repairForm.faultInfo.maintenanceSchedule }}
            </div>
            <div class="col-sm-3 form-group">
                {{ 'form.order'|trans }}
            </div>
            {% if orderSet %}
                <div class="col-sm-9 form-group">
                    <blockquote>
                        <p>{{ repairForm.faultInfo.faultOrder.leaderOrder }}</p>
                        <footer>{{ repairForm.faultInfo.faultOrder.user.name }}</footer>
                    </blockquote>
                </div>
            {% else %}
                <div class="col-sm-9 form-group">
                    {{ 'form.none'|trans }}
                </div>
            {% endif %}

            <div class="col-sm-3 form-group">{{ 'form.money'|trans }}</div><div class="col-sm-9 form-group">{{ repairForm.cost }}</div>

            <div class="col-sm-3 form-group">
                {{ 'form.reporter'|trans }}
            </div>
            <div class="col-sm-3 form-group">
                {{ repairForm.repairTask.user.name }}
            </div>
            <div class="col-sm-3 form-group">
                {{ 'form.reporterPhone'|trans }}
            </div>
            <div class="col-sm-3 form-group">
                {{ repairForm.repairTask.user.phone }}
            </div>

            <div class="col-sm-3 form-group">
                {{ 'form.receiver'|trans }}
            </div>
            <div class="col-sm-3 form-group">
                {{ repairForm.receive.name }}
            </div>
            <div class="col-sm-3 form-group">
                {{ 'form.reporterPhone'|trans }}
            </div>
            <div class="col-sm-3 form-group">
                {{ repairForm.receive.phone }}
            </div>
        {# 判断是否是报修人 #}
        {% if isCreater %}
            <div class="col-sm-8 col-sm-offset-4">
                <button  id="reject" type="button" class="btn btn-default" data-toggle="confirmation" data-singleton="true" data-btn-ok-label="驳回" data-btn-ok-icon="glyphicon glyphicon-share-alt" data-btn-ok-class="btn-success" data-btn-cancel-label="取消" data-btn-cancel-icon="glyphicon glyphicon-ban-circle" data-btn-cancel-class="btn-danger" data-popout="true" title="是否驳回">{{ 'form.reject'|trans }}</button>

                <button  id="confirm" type="button" class="btn btn-default" data-toggle="confirmation" data-singleton="true" data-btn-ok-label="确定" data-btn-ok-icon="glyphicon glyphicon-share-alt" data-btn-ok-class="btn-success" data-btn-cancel-label="取消" data-btn-cancel-icon="glyphicon glyphicon-ban-circle" data-btn-cancel-class="btn-danger" data-popout="true" title="是否确定">{{ 'form.confirm'|trans }}</button>
            </div>
        {% endif %}
    {% endif %}

    {# 状态为待评价 #}
    {% if repairForm.formCondition.id == 4 %}
        <div class="col-sm-8 form-group">
            <h3>{{ 'form.repairFormInfo'|trans }}</h3>
        </div>
        <div class="col-sm-4 form-group">
            <h3>{{ repairForm.FormCondition.name }}</h3>
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.reportTime'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.repairTask.createTime|date('Y-m-d H:i:s') }}
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.location'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.faultInfo.group }}
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.type'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.faultInfo.faultType }}
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.priority'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.faultInfo.faultPriority }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.title'|trans }}
        </div>
        <div class="col-sm-9 form-group">
            {{ repairForm.faultInfo.title }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.reporterDescription'|trans }}
        </div>
        <div class="col-sm-9 form-group">
            {{ repairForm.faultInfo.reporterDescription }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.workerDescription'|trans }}
        </div>
        <div class="col-sm-9 form-group">
            {{ repairForm.faultInfo.workerDescription }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.maintenanceSchedule'|trans }}
        </div>
        <div class="col-sm-9 form-group">
            {{ repairForm.faultInfo.maintenanceSchedule }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.order'|trans }}
        </div>
        {% if orderSet %}
            <div class="col-sm-9 form-group">
                <blockquote>
                    <p>{{ repairForm.faultInfo.faultOrder.leaderOrder }}</p>
                    <footer>{{ repairForm.faultInfo.faultOrder.user.name }}</footer>
                </blockquote>
            </div>
        {% else %}
            <div class="col-sm-9 form-group">
                {{ 'form.none'|trans }}
            </div>
        {% endif %}

        <div class="col-sm-3 form-group">{{ 'form.money'|trans }}</div><div class="col-sm-9 form-group">{{ repairForm.cost }}</div>

        <div class="col-sm-3 form-group">
            {{ 'form.reporter'|trans }}
        </div>
        <div class="col-sm-3 form-group">
            {{ repairForm.repairTask.user.name }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.reporterPhone'|trans }}
        </div>
        <div class="col-sm-3 form-group">
            {{ repairForm.repairTask.user.phone }}
        </div>

        <div class="col-sm-3 form-group">
            {{ 'form.receiver'|trans }}
        </div>
        <div class="col-sm-3 form-group">
            {{ repairForm.receive.name }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.reporterPhone'|trans }}
        </div>
        <div class="col-sm-3 form-group">
            {{ repairForm.receive.phone }}
        </div>
        {# 判断是否是报修人 #}
        {% if isCreater %}
            <div class="col-sm-8 col-sm-offset-4">
                <button type="button" id="comment" class="btn btn-default" data-toggle="modal" data-target="#commentModal">{{ 'form.comment'|trans }}</button>
            </div>

            {# 批示弹出框 #}
            <div class="modal fade" id="commentModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel">
                <div class="modal-dialog" role="document">
                    <div class="modal-content">
                        <div class="modal-header">
                            <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                            <h4 class="modal-title" id="exampleModalLabel">维修评价</h4>
                        </div>
                        <div class="modal-body">
                            <form action="{{ path('fault_comment',{'id':repairForm.id}) }}" {{ form_enctype(comment) }} method="post">
                                <div class="form-group">
                                    <label for="message-text" class="control-label">评价:</label>
                                    {{ form_widget(comment.comment, {'attr': {'class': 'form-control'}}) }}
                                </div>
                                {{ form_widget(comment._token) }}
                                <div class="modal-footer">
                                    <button type="button" class="btn btn-default" data-dismiss="modal">取消</button>
                                    <button type="submit" class="btn btn-primary">确定</button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

        {% endif %}
    {% endif %}


    {% if repairForm.formCondition.id == 5 %}
        <div class="col-sm-8 form-group">
            <h3>{{ 'form.repairFormInfo'|trans }}</h3>
        </div>
        <div class="col-sm-4 form-group">
            <h3>{{ repairForm.FormCondition.name }}</h3>
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.reportTime'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.repairTask.createTime|date('Y-m-d H:i:s') }}
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.endTime'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.lastUpdateTime|date('Y-m-d H:i:s') }}
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.location'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.faultInfo.group }}
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.type'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.faultInfo.faultType }}
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.priority'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.faultInfo.faultPriority }}
        </div>
        <div class="col-sm-2 form-group">{{ 'form.money'|trans }}</div><div class="col-sm-4 form-group">{{ repairForm.cost }}</div>
        <div class="col-sm-3 form-group">
            {{ 'form.title'|trans }}
        </div>
        <div class="col-sm-9 form-group">
            {{ repairForm.faultInfo.title }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.reporterDescription'|trans }}
        </div>
        <div class="col-sm-9 form-group">
            {{ repairForm.faultInfo.reporterDescription }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.workerDescription'|trans }}
        </div>
        <div class="col-sm-9 form-group">
            {{ repairForm.faultInfo.workerDescription }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.maintenanceSchedule'|trans }}
        </div>
        <div class="col-sm-9 form-group">
            {{ repairForm.faultInfo.maintenanceSchedule }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.order'|trans }}
        </div>
        {% if orderSet %}
            <div class="col-sm-9 form-group">
                <blockquote>
                    <p>{{ repairForm.faultInfo.faultOrder.leaderOrder }}</p>
                    <footer>{{ repairForm.faultInfo.faultOrder.user.name }}</footer>
                </blockquote>
            </div>
        {% else %}
            <div class="col-sm-9 form-group">
                {{ 'form.none'|trans }}
            </div>
        {% endif %}


        <div class="col-sm-3 form-group">
            {{ 'form.reporter'|trans }}
        </div>
        <div class="col-sm-3 form-group">
            {{ repairForm.repairTask.user.name }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.reporterPhone'|trans }}
        </div>
        <div class="col-sm-3 form-group">
            {{ repairForm.repairTask.user.phone }}
        </div>

        <div class="col-sm-3 form-group">
            {{ 'form.receiver'|trans }}
        </div>
        <div class="col-sm-3 form-group">
            {{ repairForm.receive.name }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.reporterPhone'|trans }}
        </div>
        <div class="col-sm-3 form-group">
            {{ repairForm.receive.phone }}
        </div>
    {% endif %}

    {# 已取消 #}
    {% if repairForm.formCondition.id == 6 %}
        <div class="col-sm-8 form-group">
            <h3>{{ 'form.repairFormInfo'|trans }}</h3>
        </div>
        <div class="col-sm-4 form-group">
            <h3>{{ repairForm.FormCondition.name }}</h3>
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.reportTime'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.repairTask.createTime|date('Y-m-d H:i:s') }}
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.endTime'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.lastUpdateTime|date('Y-m-d H:i:s') }}
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.location'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.faultInfo.group }}
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.type'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.faultInfo.faultType }}
        </div>
        <div class="col-sm-2 form-group">
            {{ 'form.priority'|trans }}
        </div>
        <div class="col-sm-4 form-group">
            {{ repairForm.faultInfo.faultPriority }}
        </div>
        <div class="col-sm-2 form-group">{{ 'form.money'|trans }}</div><div class="col-sm-4 form-group">{{ repairForm.cost }}</div>
        <div class="col-sm-3 form-group">
            {{ 'form.title'|trans }}
        </div>
        <div class="col-sm-9 form-group">
            {{ repairForm.faultInfo.title }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.reporterDescription'|trans }}
        </div>
        <div class="col-sm-9 form-group">
            {{ repairForm.faultInfo.reporterDescription }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.workerDescription'|trans }}
        </div>
        <div class="col-sm-9 form-group">
            {{ repairForm.faultInfo.workerDescription }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.maintenanceSchedule'|trans }}
        </div>
        <div class="col-sm-9 form-group">
            {{ repairForm.faultInfo.maintenanceSchedule }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.order'|trans }}
        </div>
        {% if orderSet %}
            <div class="col-sm-9 form-group">
                <blockquote>
                    <p>{{ repairForm.faultInfo.faultOrder.leaderOrder }}</p>
                    <footer>{{ repairForm.faultInfo.faultOrder.user.name }}</footer>
                </blockquote>
            </div>
        {% else %}
            <div class="col-sm-9 form-group">
                {{ 'form.none'|trans }}
            </div>
        {% endif %}



        <div class="col-sm-3 form-group">
            {{ 'form.reporter'|trans }}
        </div>
        <div class="col-sm-3 form-group">
            {{ repairForm.repairTask.user.name }}
        </div>
        <div class="col-sm-3 form-group">
            {{ 'form.reporterPhone'|trans }}
        </div>
        <div class="col-sm-3 form-group">
            {{ repairForm.repairTask.user.phone }}
        </div>
    {% endif %}



    </div>

</div>
</div>
{% endblock %}
{% block javascripts %}
{{ parent() }}
    <script src="{{ asset('bundles/repair/js/jquery.validate.min.js') }}"></script>
    <script type="text/javascript" src="{{ asset('bundles/repair/js/localization/messages_zh.min.js') }}" charset="UTF-8" ></script>
<script>
$(document).ready(function() {
    $('#infoForm').validate();
    $('[data-toggle=confirmation]').confirmation();
    $('#cancel').click(function () {
        window.location = "{{ path('fault_action',{'action':'cancel','id':repairForm.id}) }}"
    });
    $('#receive').click(function () {
        window.location = "{{ path('fault_action',{'action':'receive','id':repairForm.id}) }}"
    });
    $('#confirm').click(function(){
        window.location = "{{ path('fault_action',{'action':'confirm','id':repairForm.id}) }}"
    })
    $('#reject').click(function(){
        window.location = "{{ path('fault_action',{'action':'reject','id':repairForm.id}) }}"
    })
    $('#excel5').click(function(){
        window.location = "{{ path('repairform2excel',{'format':'Excel5','id':repairForm.id}) }}"
    })

    $('#excel2007').click(function(){
        window.location = "{{ path('repairform2excel',{'format':'Excel2007','id':repairForm.id}) }}"
    })
    $('#reportToLeader').click(function () {
        window.location = "{{ path('fault_order',{'action':'create','id':repairForm.id}) }}"
    });
})
</script>
{% endblock %}